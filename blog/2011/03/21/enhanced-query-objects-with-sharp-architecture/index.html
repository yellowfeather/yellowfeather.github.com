
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Enhanced query objects with S#arp Architecture - Yellow Feather Ltd</title>
  <meta name="author" content="Yellow Feather Ltd">

  
  <meta name="description" content="I&#8217;ve been using S#arp Architecture (and the Who Can Help Me structure) on a few projects for a while now and on the whole I&#8217;m very happy &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yellowfeather.co.uk/blog/2011/03/21/enhanced-query-objects-with-sharp-architecture/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Yellow Feather Ltd" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Raleway:100" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Lora:400,400italic,700,700italic|Istok+Web:400,400italic,700,700italic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-85823-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
  <div id="header-container">
    <div id="header">
      <div class="wrapper">
        <header role="banner"><hgroup>
  <h1>
    <a href="/">
      <img src="/images/logo.png" class="standard">
      <img src="/images/logo-retina.png" class="retina" width="175" height="75">
    </a>
  </h1>
</hgroup>

</header>
        <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:yellowfeather.co.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
      </div>
    </div>
  </div>
  <div id="body"   >
    <div id="main">
      <div id="content">
	<div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Enhanced Query Objects With S#arp Architecture</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-21T00:00:00+00:00" pubdate data-updated="true">Mar 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&#8217;ve been using <a href="http://www.sharparchitecture.net/">S#arp Architecture</a> (and the Who Can Help Me structure) on a few projects for a while now and on the whole I&#8217;m very happy with it. However, Ayende&#8217;s recent post <a id="viewpost_ascx_TitleUrl" title="Title of this entry." href="http://ayende.com/Blog/archive/2011/03/16/architecting-in-the-pit-of-doom-the-evils-of-the.aspx">Architecting in the pit of doom: The evils of the repository abstraction layer</a> hit a nerve, and got me thinking that maybe I&#8217;ve been applying the services (or tasks) / repository abstraction a bit too liberally.<a id="more"></a><a id="more-78"></a> The following day I saw this <a href="https://twitter.com/#!/hotgazpacho/status/48381984371777536">tweet</a> mentioning <a href="http://twitter.com/fabiomaulo">@fabiomaulo</a>&#8217;s <a href="http://fabiomaulo.blogspot.com/2010/07/enhanced-query-object.html">Enhanced Query Object</a> which looks just the ticket to solving this issue. So, I&#8217;ve updated my <a href="https://github.com/yellowfeather/SharpArchitecture-MultiTenant">SharpArchitecture-MultiTenant</a> project on GitHub to use enhanced query objects.</p>

<p>In the SharpArchitecture.MultiTenant.Data project I&#8217;ve created an NHibernate folder (and namespace) and added a base class for queries that provides access to the ISession (similar to the existing code in the Repository base class):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">NHibernate</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">SharpArch.Data.NHibernate</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">namespace</span> <span class="nn">SharpArchitecture.MultiTenant.Data.NHibernate</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">class</span> <span class="nc">NHibernateQuery</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="k">protected</span> <span class="k">virtual</span> <span class="n">ISession</span> <span class="n">Session</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="k">get</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="kt">var</span> <span class="n">factoryKey</span> <span class="p">=</span> <span class="n">SessionFactoryKeyHelper</span><span class="p">.</span><span class="n">GetKey</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">NHibernateSession</span><span class="p">.</span><span class="n">CurrentFor</span><span class="p">(</span><span class="n">factoryKey</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As this project is enabled for multi-tenants I&#8217;ve also created a marker interface to indicate if the query is tenant specific:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">namespace</span> <span class="nn">SharpArchitecture.MultiTenant.Framework.Contracts</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">interface</span> <span class="n">IMultiTenantQuery</span> <span class="p">{</span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In MultiTenantSessionFactoryKeyProvider, I&#8217;ve updated the GetKeyFrom method to test for implementation of the IMultiTenantQuery interface:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="kt">string</span> <span class="nf">GetKeyFrom</span><span class="p">(</span><span class="kt">object</span> <span class="n">anObject</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">type</span> <span class="p">=</span> <span class="n">anObject</span><span class="p">.</span><span class="n">GetType</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">isMultiTenant</span> <span class="p">=</span> <span class="n">type</span><span class="p">.</span><span class="n">IsImplementationOf</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">IMultiTenantQuery</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;()</span> <span class="p">||</span>
</span><span class='line'>                      <span class="n">type</span><span class="p">.</span><span class="n">IsImplementationOf</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">IMultiTenantRepository</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;()</span> <span class="p">||</span>
</span><span class='line'>                      <span class="n">IsRepositoryForMultiTenantEntity</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">isMultiTenant</span>
</span><span class='line'>    <span class="p">?</span> <span class="n">GetKey</span><span class="p">()</span>
</span><span class='line'>    <span class="p">:</span> <span class="n">NHibernateSession</span><span class="p">.</span><span class="n">DefaultFactoryKey</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now everything is in place to create some queries, so for the list of Customers I&#8217;ve created an interface for the query as below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">interface</span> <span class="n">ICustomerListQuery</span> <span class="p">:</span> <span class="n">IMultiTenantQuery</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">IPagination</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">CustomerViewModel</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">GetPagedList</span><span class="p">(</span><span class="kt">int</span> <span class="n">pageIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>and an implementation:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">CustomerListQuery</span> <span class="p">:</span> <span class="n">NHibernateQuery</span><span class="p">,</span> <span class="n">ICustomerListQuery</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="n">IPagination</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">CustomerViewModel</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">GetPagedList</span><span class="p">(</span><span class="kt">int</span> <span class="n">pageIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">query</span> <span class="p">=</span> <span class="n">Session</span><span class="p">.</span><span class="n">QueryOver</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Customer</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;()</span>
</span><span class='line'>      <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">customer</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">customer</span><span class="p">.</span><span class="n">Code</span><span class="p">).</span><span class="n">Asc</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">countQuery</span> <span class="p">=</span> <span class="n">query</span><span class="p">.</span><span class="n">ToRowCountQuery</span><span class="p">();</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">totalCount</span> <span class="p">=</span> <span class="n">countQuery</span><span class="p">.</span><span class="n">FutureValue</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="kt">int</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">var</span> <span class="n">firstResult</span> <span class="p">=</span> <span class="p">(</span><span class="n">pageIndex</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="n">pageSize</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">CustomerViewModel</span> <span class="n">viewModel</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">viewModels</span> <span class="p">=</span> <span class="n">query</span><span class="p">.</span><span class="n">SelectList</span><span class="p">(</span><span class="n">list</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">list</span>
</span><span class='line'>                            <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">mission</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">mission</span><span class="p">.</span><span class="n">Id</span><span class="p">).</span><span class="n">WithAlias</span><span class="p">(()</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">Id</span><span class="p">)</span>
</span><span class='line'>                            <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">mission</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">mission</span><span class="p">.</span><span class="n">Code</span><span class="p">).</span><span class="n">WithAlias</span><span class="p">(()</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">Code</span><span class="p">)</span>
</span><span class='line'>                            <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">mission</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">mission</span><span class="p">.</span><span class="n">Name</span><span class="p">).</span><span class="n">WithAlias</span><span class="p">(()</span> <span class="p">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">Name</span><span class="p">))</span>
</span><span class='line'>      <span class="p">.</span><span class="n">TransformUsing</span><span class="p">(</span><span class="n">Transformers</span><span class="p">.</span><span class="n">AliasToBean</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">CustomerViewModel</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">.</span><span class="n">Skip</span><span class="p">(</span><span class="n">firstResult</span><span class="p">)</span>
</span><span class='line'>      <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="n">pageSize</span><span class="p">)</span>
</span><span class='line'>      <span class="p">.</span><span class="n">Future</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">CustomerViewModel</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="k">new</span> <span class="n">CustomPagination</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">CustomerViewModel</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="n">viewModels</span><span class="p">,</span> <span class="n">pageIndex</span><span class="p">,</span> <span class="n">pageSize</span><span class="p">,</span> <span class="n">totalCount</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, this code is using NHibernate projections and transforms to get a list of the required view models, bypassing the need for a data transfer object (DTO) and mappers. This is a trivial example, but in reality the query would be more complex and likely to flatten the object structure.</p>

<p>Now the controller itself can use the query interface to get the paged list of view models:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="n">ActionResult</span> <span class="nf">Index</span><span class="p">(</span><span class="kt">int?</span> <span class="n">page</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">customers</span> <span class="p">=</span> <span class="n">_customerListQuery</span><span class="p">.</span><span class="n">GetPagedList</span><span class="p">(</span><span class="n">page</span> <span class="p">??</span> <span class="m">1</span><span class="p">,</span> <span class="n">DefaultPageSize</span><span class="p">);</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">viewModel</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CustomerListViewModel</span> <span class="p">{</span> <span class="n">Customers</span> <span class="p">=</span> <span class="n">customers</span> <span class="p">};</span>
</span><span class='line'>  <span class="k">return</span> <span class="nf">View</span><span class="p">(</span><span class="n">viewModel</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I quite like this solution; the unnecessary layers of abstraction are removed and the queries are nicely encapsulated, if anything more complex is required (e.g. multiple data sources) then it is always possible to fall back to the services / repositories style as before.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Yellow Feather Ltd</span></span>

      








  


<time datetime="2011-03-21T00:00:00+00:00" pubdate data-updated="true">Mar 21<span>st</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/enhanced-query-objects/'>Enhanced Query Objects</a>, <a class='category' href='/blog/categories/sharp-architecture/'>Sharp Architecture</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://yellowfeather.co.uk/blog/2011/03/21/enhanced-query-objects-with-sharp-architecture/" data-via="yellowfeatheruk" data-counturl="http://yellowfeather.co.uk/blog/2011/03/21/enhanced-query-objects-with-sharp-architecture/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/02/09/multi-tenancy-on-sharp-architecture-revisited/" title="Previous Post: Multi-tenancy on S#arp Architecture Revisited">&laquo; Multi-tenancy on S#arp Architecture Revisited</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/03/26/userland-spi-on-the-beaglebone-with-ubuntu/" title="Next Post: Userland SPI on the BeagleBone with Ubuntu">Userland SPI on the BeagleBone with Ubuntu &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/04/getting-mono-running-on-amazon-linux-ami/">Getting Mono running on an Amazon Linux AMI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/05/web-site-moved-to-octopress/">Web site moved to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/11/auto-incrementing-build-number-in-xcode-4/">Auto incrementing build number in Xcode 4</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/31/git-workflow-branch-per-feature/">Git Workflow – Branch per feature</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/26/userland-spi-on-the-beaglebone-with-ubuntu/">Userland SPI on the BeagleBone with Ubuntu</a>
      </li>
    
    <li class="post">
      <a href="/blog/archives">More</a>
    </li>
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/amaozn-aws/'>Amaozn AWS (1)</a></li>
<li class='category'><a href='/blog/categories/beaglebone/'>BeagleBone (1)</a></li>
<li class='category'><a href='/blog/categories/enhanced-query-objects/'>Enhanced Query Objects (1)</a></li>
<li class='category'><a href='/blog/categories/mono/'>Mono (1)</a></li>
<li class='category'><a href='/blog/categories/multi-tenancy/'>Multi-tenancy (2)</a></li>
<li class='category'><a href='/blog/categories/sharp-architecture/'>Sharp Architecture (3)</a></li>
<li class='category'><a href='/blog/categories/xcode/'>Xcode (1)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (1)</a></li>
<li class='category'><a href='/blog/categories/ios/'>iOS (1)</a></li>

  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("yellowfeatheruk", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/yellowfeatheruk" class="twitter-follow-button" data-show-count="true">Follow @yellowfeatheruk</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/yellowfeather">@yellowfeather</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'yellowfeather',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:yellowfeather">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "yellowfeather"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>


      </div>
    </div>
    <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Yellow Feather Ltd -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'yellowfeather';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://yellowfeather.co.uk/blog/2011/03/21/enhanced-query-objects-with-sharp-architecture/';
        var disqus_url = 'http://yellowfeather.co.uk/blog/2011/03/21/enhanced-query-objects-with-sharp-architecture/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </div>
</body>
</html>
